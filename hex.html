<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>HEX indexing</title>
		<style>
			body {
				background-color: #555;
				color: white;
			}

			h1, h2, p, li {
				text-shadow: 1px 1px 1px black;
			}

			h2:not(:nth-of-type(1)) {
				border-top: 1px solid black;
				padding-top: 1em;
			}

			pre {
				font-family: dejavu sans mono, monospace;
				padding: 0.5em;
				display: inline-block;
				background-color: #444;
				font-size: 80%;
			}

			ul {
				padding-left: 1em;
			}
			li {
				list-style-type: none;
				line-height: 150%;
			}
			li:before {
				font-family: monospace;
				font-size: 150%;
				content: "• ";
				font-weight: bold;
			}

			li.good:before {
				content: "✔ ";
				color: #0f0;
			}

			li.bad:before {
				content: "✘ ";
				color: #f00;
			}

		</style>
	</head>
	<body>
		<h1>Comparison of different hex indexing approaches</h1>

		<p>
			This page summarizes various types of indexing hexagonal cells. Features examined: storage (in 2D array), neighbors, distance, straight lines.
		</p>

		<h2>#1: Non-orthogonal</h2>
<pre>
   /-\     /-\     /-\
  /   \   /   \   /   \
 /     \-/     \-/     \
|  0,0  |  1,0  |  2,0  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  1,1  |  2,1  |  3,1
    |       |       |
   /-\     /-\     /-\
  /   \   /   \   /   \   /
 /     \-/     \-/     \-/
|  1,2  |  2,2  |  3,2  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  2,3  |  3,3  |  4,3
    |       |       |
</pre>
	<p>Horizontal lines have constant "y" coordinate. "x" coordinate increases "down &amp; right".</p>

	<ul>
		<li><strong>Distance: </strong><code>sign(dx) == sign(dy) ? max(|dx|, |dy|) : |dx|+|dy|</code></li>
		<li class="bad"><strong>Storage: </strong>2D array stores a parallelogram area</li>
		<li class="good"><strong>Neighbors: </strong><code>(&minus;1,0); (1,0); (&minus;1,&minus;1); (1,&minus;1); (&minus;1,1); (1,1)</code></li>
		<li class="good"><strong>Straight lines: </strong><code>(x &pm; n, y); (x &pm; n, y &pm; n); (x &mp; n, y &pm; n)</code></li>
		<li><strong>Remarks: </strong></li>
	</ul>


		<h2>#2: Odd shift</h2>
<pre>
   /-\     /-\     /-\
  /   \   /   \   /   \
 /     \-/     \-/     \
|  0,0  |  1,0  |  2,0  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  0,1  |  1,1  |  2,1
    |       |       |
   /-\     /-\     /-\
  /   \   /   \   /   \   /
 /     \-/     \-/     \-/
|  0,2  |  1,2  |  2,2  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  0,3  |  1,3  |  2,3
    |       |       |
</pre>

	<p>Horizontal lines have constant "y" coordinate. "x" coordinate increases "right". Odd lines are shifted to the right (half a cell).</p>

	<ul>
		<li class="bad"><strong>Distance: </strong><code>max(|dy|, |dx| + floor(|dy|/2) + penalty); penalty = ( (even(y1) &amp;&amp; odd(y2) &amp;&amp; (x1 &lt; x2)) || (even(y2) &amp;&amp; odd(y1) &amp;&amp; (x2 &lt; x1)) ) ? 1 : 0</code></li>
		<li class="good"><strong>Storage: </strong> visually corresponds to a 2D array</li>
		<li class="bad"><strong>Neighbors: </strong>even lines <code>(&minus;1,0); (1,0); (&minus;1,&minus;1); (0,&minus;1); (&minus;1,1); (0,1)</code>, odd lines <code>(&minus;1,0); (1,0); (0,&minus;1); (1,&minus;1); (0,1); (1,1)</code></li>
		<li class="bad"><strong>Straight lines: </strong><code>(x &pm; n, y); (x &pm; n/2, y &pm; n); (x &pm; n/2, y &pm; n)</code>, even and odd lines use different rounding</li>
		<li><strong>Remarks: </strong></li>
	</ul>

		<h2>#3: Double width</h2>
<pre>
   /-\     /-\     /-\
  /   \   /   \   /   \
 /     \-/     \-/     \
|  0,0  |  2,0  |  4,0  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  1,1  |  3,1  |  5,1
    |       |       |
   /-\     /-\     /-\
  /   \   /   \   /   \   /
 /     \-/     \-/     \-/
|  0,2  |  2,2  |  4,2  |
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    |  1,3  |  3,3  |  5,3
    |       |       |
</pre>

	<p>Horizontal lines have constant "y" coordinate. "x" coordinate increases "right" by two. Even lines have even "x" values; odd lines have odd "x" values.</p>

	<ul>
		<li><strong>Distance: </strong><code>|dy| + max(0, (|dx|&minus;|dy|)/2)</code></li>
		<li class="bad"><strong>Storage: </strong>needs twice the storage &ndash; half of the possible coordinate values (with odd sum) is not used at all.</li>
		<li class="good"><strong>Neighbors: </strong><code>(&minus;2,0); (2,0); (&minus;1,&minus;1); (1,1); (&minus;1,1); (1,&minus;1)</code></li>
		<li class="good"><strong>Straight lines: </strong><code>(x &pm; 2n, y); (x &pm; n, y &pm; n); (x &mp; n, y &pm; n)</code></li>
		<li><strong>Remarks: </strong>x+y is always even.</li>
	</ul>

		<h2>#4: Cube projection</h2>
<pre>
   /-\     /-\     /-\
  /   \   /   \   /   \
 /     \-/     \-/     \
| 0,0,0 | 1,0,-1| 2,0,-2|
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    | 1,-1,0|2,-1,-1|3,-1,-2
    |       |       |
   /-\     /-\     /-\
  /   \   /   \   /   \   /
 /     \-/     \-/     \-/
| 1,-2,1| 2,-2,0|3,-2,-1|
|       |       |       |
 \     /-\     /-\     /-\
  \   /   \   /   \   /
   \-/     \-/     \-/
    | 2,-3,1|3,-3,0 |4,-3,-1
    |       |       |
</pre>

	<p>Horizontal lines have constant "y" coordinate. Diagonal lines have constant "x" and "z" coordinates. Neighboring cells differ by 1 in two coordinates.</p>

	<ul>
		<li class="good"><strong>Distance: </strong><code>max(|dx|,|dy|,|dz|)</code></li>
		<li><strong>Storage: </strong>FIXME</li>
		<li class="good"><strong>Neighbors: </strong><code>(1,0,&minus;1); (&minus;1,0,1); (0,1,&minus;1); (0,&minus;1,1); (1,&minus;1,0); (&minus;1,1,0)</code></li>
		<li class="good"><strong>Straight lines: </strong><code>(x &pm; n, y, z &mp; n); (x &pm; n, y &mp; n, z); (x, y &pm; n, z &mp; n)</code></li>
		<li><strong>Remarks: </strong>x+y+z = 0</li>
	</ul>

	</body>
</html>
